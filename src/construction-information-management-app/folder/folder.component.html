<div class="wrapper" *ngIf="currentUser">
    <div class="overview" *ngIf="items && items.length > 0">
        <ng-container *ngFor="let item of items">
            <div *ngIf="item.constructor.name === 'Folder' ; then folderBlock; else documentBlock"></div>
            <ng-template #folderBlock>
                <cim-folder-row [folder]="item"
                                [currentUser]="currentUser">
                </cim-folder-row>
            </ng-template>

            <ng-template #documentBlock>
                <cim-document-row [document]="item"
                                  [currentUser]="currentUser"
                                  (activatedDocument)="onDocumentEdit($event)">
                </cim-document-row>
            </ng-template>
        </ng-container>
    </div>
    <div class="editDocument" *ngIf="documentToEdit && currentUser.isAdmin()">
        <cim-document-detail
                [document]="documentToEdit"
                (closeEditForm)="onDocumentEditClose($event)">
        </cim-document-detail>
    </div>
    <div class="addItemList" *ngIf="showAddItemList && mainFolder && currentFolder">
        <cim-item-list
                [mainFolder]="mainFolder"
                [currentFolder]="currentFolder"
                (cancelAddItems)="onAddItemsCancel($event)"
                (saveItemsDone)="onItemsAdded($event)">
        </cim-item-list>
    </div>
</div>
<ng-container *ngIf="!showAddItemList && currentUser && currentUser.isAdmin() && currentFolder && !currentFolder.getIsMainFolder()">
    <div class="addItem" (click)="addItem($event)">
        <i class="material-icons"> add </i>
        Voeg een document of een folder toe.
    </div>
</ng-container>